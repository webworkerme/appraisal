var VueSession={config:{key:'vue-sess-key',saveTo:'local'},_get:function(){var a=null;return'local'===this.config.saveTo?a=window.localStorage.getItem(this.config.key):'session'===this.config.saveTo&&(a=window.sessionStorage.getItem(this.config.key)),JSON.parse(a)||{}},_set:function(a,b){if(!a||a.constructor===Array)return!1;var c=this._get(),d=b?a:Object.assign(c,a);const e=JSON.stringify(d);return'local'===this.config.saveTo?(window.localStorage.setItem(this.config.key,e),!0):!('session'!==this.config.saveTo)&&(window.sessionStorage.setItem(this.config.key,e),!0)},_delete:function(a){var b=this._get();return null!=b[a]&&(delete b[a],this._set(b,!0))},_destroy:function(){return'local'===this.config.saveTo?(window.localStorage.removeItem(this.config.key),!0):!('session'!==this.config.saveTo)&&(window.sessionStorage.removeItem(this.config.key),!0)},install:function(a,b){const c=this;'object'==typeof b&&Object.assign(this.config,b),a.prototype.$sess={get:function(d){return'string'==typeof d?c._get()[d]:c._get()},set:function(d,e){const f=c._set(d);return'function'==typeof e?{result:f,callback:e(d,f)}:f},exists:function(d){return'undefined'==typeof d?'undefined'!=typeof c._get():'undefined'!=typeof c._get()[d]},timer:function(d,e,f){const g=this.get(d);return'undefined'==typeof g||'function'!=typeof e||'function'!=typeof f?!1:(setTimeout(function(){e(g)},f(g)),!0)},timeout:function(d,e,f,g){const h=this;return this.timer(d,function(i){const j=h.delete(d);'function'==typeof g&&g(i,j)},function(i){const j=i[f]-(Date.now()-i[e]);return 0>j?0:j})},delete:function(d){return!('string'!=typeof d)&&c._delete(d)},destroy:function(){return c._destroy()}}}};export default VueSession;